{"ast":null,"code":"import axios from \"axios\";\nconst apiInstance = axios.create({\n  baseURL: process.env.REACT_APP_BASE_API,\n  validateStatus: status => status <= 500\n});\napiInstance.interceptors.request.use(request => {\n  return request;\n});\nexport const tokenRequestInterceptor = async (apiCall, refreshToken) => {\n  const {\n    status,\n    data\n  } = await apiCall();\n  if (status === 401) {\n    refreshToken();\n    return await apiCall();\n  } else {\n    return {\n      status,\n      data\n    };\n  }\n};\n\n// Upload\n\nexport const uploadImage = formData => apiInstance.post(\"/upload\", formData);\n\n// Authenticate\nexport const login = formData => apiInstance.post(\"/auth/login\", {\n  ...formData\n}, {\n  withCredentials: true\n});\nexport const register = formData => apiInstance.post(\"/auth/register\", {\n  ...formData\n});\nexport const changePassword = (formData, token) => apiInstance.put(\"/auth/update-password\", {\n  ...formData\n}, {\n  headers: {\n    \"Authorization\": `Bearer ${token}`\n  }\n});\nexport const refreshToken = () => apiInstance.get(\"/auth/refresh-token\", {\n  withCredentials: true\n});\nexport const logout = refreshToken => apiInstance.post(\"/auth/logout\", {\n  ...refreshToken\n}, {\n  withCredentials: true\n});\n\n// Users\nexport const getAllUser = token => apiInstance.get(\"/users/\", {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\nexport const deleteUser = (token, id) => apiInstance.delete(`/users/${id}`, {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\nexport const reactiveUser = (token, id) => apiInstance.get(`/users/reactive/${id}`, {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\nexport const getSingleUser = (token, id) => apiInstance.get(`/users/${id}`, {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\nexport const updateUser = (formData, id, token) => apiInstance.put(`/users/update/${id}`, {\n  ...formData\n}, {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\nexport const getUserByDepartment = (token, deparment, username = \"\") => apiInstance.get(`/users/?department=${deparment}&username=${username}`, {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\nexport const searchUserByUsername = (username, token) => apiInstance.get(`users?username=${username}`, {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\nexport const assignSTUDENT = (formData, id, token) => apiInstance.put(`users/${id}`, {\n  ...formData\n}, {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\nexport const assignSTUDENTToManager = (formData, id, token) => apiInstance.put(`users/assign/${id}`, {\n  ...formData\n}, {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\nexport const getUserWithoutDepartment = token => apiInstance.get(`users/getdepartment`, {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\nexport const uploadExcelCreateUser = (formData, token) => apiInstance.post(\"/users/uploadexcel\", formData, {\n  headers: {\n    Authorization: `Bearer ${token}`,\n    \"Content-Type\": \"multipart/form-data; boundary=<calculated when request is sent>\"\n  }\n});\nexport const confirmUserExcel = (filename, token) => apiInstance.get(`/users/confirm/${filename}`, {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\nexport const cancelUserExcel = (filename, token) => apiInstance.get(`/users/cancel/${filename}`, {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\n\n//Department\nexport const createDepartment = (formData, token) => apiInstance.post(\"/departments/\", {\n  ...formData\n}, {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\nexport const searchDepartByName = (name, token) => apiInstance.get(`departments?name=${name}`, {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\nexport const getAllDepartment = token => apiInstance.get(\"/departments/\", {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\nexport const findDepartmentByID = (token, id) => apiInstance.get(`/departments/${id}`, {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\nexport const updateDepartment = (formData, id, token) => apiInstance.put(`/departments/${id}`, {\n  ...formData\n}, {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\nexport const deleteDepartment = (token, id) => apiInstance.delete(`/departments/${id}`, {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\nexport const reactiveDepartment = (token, id) => apiInstance.get(`/departments/reactive/${id}`, {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\nexport const getAllSubRoute = () => {};","map":{"version":3,"names":["axios","apiInstance","create","baseURL","process","env","REACT_APP_BASE_API","validateStatus","status","interceptors","request","use","tokenRequestInterceptor","apiCall","refreshToken","data","uploadImage","formData","post","login","withCredentials","register","changePassword","token","put","headers","get","logout","getAllUser","Authorization","deleteUser","id","delete","reactiveUser","getSingleUser","updateUser","getUserByDepartment","deparment","username","searchUserByUsername","assignSTUDENT","assignSTUDENTToManager","getUserWithoutDepartment","uploadExcelCreateUser","confirmUserExcel","filename","cancelUserExcel","createDepartment","searchDepartByName","name","getAllDepartment","findDepartmentByID","updateDepartment","deleteDepartment","reactiveDepartment","getAllSubRoute"],"sources":["E:/1640-ENTERPRISE/COMP_WEB/front_End/src/apiServices/index.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst apiInstance = axios.create({\r\n  baseURL: process.env.REACT_APP_BASE_API,\r\n  validateStatus: (status) => status <= 500,\r\n});\r\n\r\napiInstance.interceptors.request.use((request) => {\r\n  return request;\r\n});\r\n\r\nexport const tokenRequestInterceptor = async (apiCall, refreshToken) => {\r\n  const { status, data } = await apiCall();\r\n  if (status === 401) {\r\n    refreshToken();\r\n    return await apiCall();\r\n  } else {\r\n    return { status, data };\r\n  }\r\n};\r\n\r\n// Upload\r\n\r\nexport const uploadImage = (formData) => apiInstance.post(\"/upload\", formData);\r\n\r\n// Authenticate\r\nexport const login = (formData) =>\r\n  apiInstance.post(\"/auth/login\", { ...formData }, {withCredentials: true});\r\nexport const register = (formData) =>\r\n  apiInstance.post(\"/auth/register\", { ...formData });\r\n\r\nexport const changePassword = (formData, token) =>\r\n  apiInstance.put(\"/auth/update-password\", { ...formData }, {headers: {\r\n    \"Authorization\": `Bearer ${token}`\r\n  }});\r\n\r\nexport const refreshToken = () =>\r\n  apiInstance.get(\"/auth/refresh-token\", {withCredentials: true});\r\n\r\nexport const logout = (refreshToken) =>\r\n  apiInstance.post(\"/auth/logout\", { ...refreshToken }, {withCredentials: true});\r\n\r\n// Users\r\nexport const getAllUser = (token) =>\r\n  apiInstance.get(\"/users/\", {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n\r\nexport const deleteUser = (token, id) =>\r\n  apiInstance.delete(`/users/${id}`, {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\nexport const reactiveUser = (token, id) =>\r\n  apiInstance.get(`/users/reactive/${id}`, {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n\r\nexport const getSingleUser = (token, id) =>\r\n  apiInstance.get(`/users/${id}`, {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n\r\nexport const updateUser = (formData, id, token) =>\r\n  apiInstance.put(\r\n    `/users/update/${id}`,\r\n    { ...formData },\r\n    {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    }\r\n  );\r\n\r\nexport const getUserByDepartment = (token, deparment, username=\"\") =>\r\n  apiInstance.get(`/users/?department=${deparment}&username=${username}`, {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n\r\nexport const searchUserByUsername = (username, token) =>\r\n  apiInstance.get(`users?username=${username}`, {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n\r\nexport const assignSTUDENT = (formData, id, token) =>\r\n  apiInstance.put(\r\n    `users/${id}`,\r\n    { ...formData },\r\n    {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    }\r\n  );\r\n\r\nexport const assignSTUDENTToManager = (formData, id, token) =>\r\n  apiInstance.put(\r\n    `users/assign/${id}`,\r\n    { ...formData },\r\n    {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    }\r\n  );\r\n\r\nexport const getUserWithoutDepartment = (token) =>\r\n  apiInstance.get(`users/getdepartment`, {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n\r\nexport const uploadExcelCreateUser = (formData, token) =>\r\n  apiInstance.post(\"/users/uploadexcel\", formData, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n      \"Content-Type\":\r\n        \"multipart/form-data; boundary=<calculated when request is sent>\",\r\n    },\r\n  });\r\n\r\nexport const confirmUserExcel = (filename, token) =>\r\n  apiInstance.get(`/users/confirm/${filename}`, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  });\r\n\r\nexport const cancelUserExcel = (filename, token) =>\r\n  apiInstance.get(`/users/cancel/${filename}`, {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n\r\n\r\n\r\n  \r\n//Department\r\nexport const createDepartment = (formData, token) =>\r\napiInstance.post(\r\n  \"/departments/\",\r\n  { ...formData },\r\n  { headers: { Authorization: `Bearer ${token}` } }\r\n);\r\n\r\nexport const searchDepartByName = (name, token) =>\r\napiInstance.get(`departments?name=${name}`, {\r\n  headers: { Authorization: `Bearer ${token}` },\r\n});\r\n\r\nexport const getAllDepartment = (token) =>\r\napiInstance.get(\"/departments/\", {\r\n  headers: { Authorization: `Bearer ${token}` },\r\n});\r\n\r\nexport const findDepartmentByID = (token, id) =>\r\napiInstance.get(`/departments/${id}`, {\r\n  headers: { Authorization: `Bearer ${token}` },\r\n});\r\n\r\nexport const updateDepartment = (formData, id, token) =>\r\napiInstance.put(\r\n  `/departments/${id}`,\r\n  { ...formData },\r\n  { headers: { Authorization: `Bearer ${token}` } }\r\n);\r\n\r\nexport const deleteDepartment = (token, id) =>\r\napiInstance.delete(`/departments/${id}`, {\r\n  headers: { Authorization: `Bearer ${token}` },\r\n});\r\nexport const reactiveDepartment = (token, id) =>\r\napiInstance.get(`/departments/reactive/${id}`, {\r\n  headers: { Authorization: `Bearer ${token}` },\r\n});\r\n\r\nexport const getAllSubRoute = () => {};\r\n\r\n\r\n\r\n\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,WAAW,GAAGD,KAAK,CAACE,MAAM,CAAC;EAC/BC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,kBAAkB;EACvCC,cAAc,EAAGC,MAAM,IAAKA,MAAM,IAAI;AACxC,CAAC,CAAC;AAEFP,WAAW,CAACQ,YAAY,CAACC,OAAO,CAACC,GAAG,CAAED,OAAO,IAAK;EAChD,OAAOA,OAAO;AAChB,CAAC,CAAC;AAEF,OAAO,MAAME,uBAAuB,GAAG,MAAAA,CAAOC,OAAO,EAAEC,YAAY,KAAK;EACtE,MAAM;IAAEN,MAAM;IAAEO;EAAK,CAAC,GAAG,MAAMF,OAAO,CAAC,CAAC;EACxC,IAAIL,MAAM,KAAK,GAAG,EAAE;IAClBM,YAAY,CAAC,CAAC;IACd,OAAO,MAAMD,OAAO,CAAC,CAAC;EACxB,CAAC,MAAM;IACL,OAAO;MAAEL,MAAM;MAAEO;IAAK,CAAC;EACzB;AACF,CAAC;;AAED;;AAEA,OAAO,MAAMC,WAAW,GAAIC,QAAQ,IAAKhB,WAAW,CAACiB,IAAI,CAAC,SAAS,EAAED,QAAQ,CAAC;;AAE9E;AACA,OAAO,MAAME,KAAK,GAAIF,QAAQ,IAC5BhB,WAAW,CAACiB,IAAI,CAAC,aAAa,EAAE;EAAE,GAAGD;AAAS,CAAC,EAAE;EAACG,eAAe,EAAE;AAAI,CAAC,CAAC;AAC3E,OAAO,MAAMC,QAAQ,GAAIJ,QAAQ,IAC/BhB,WAAW,CAACiB,IAAI,CAAC,gBAAgB,EAAE;EAAE,GAAGD;AAAS,CAAC,CAAC;AAErD,OAAO,MAAMK,cAAc,GAAGA,CAACL,QAAQ,EAAEM,KAAK,KAC5CtB,WAAW,CAACuB,GAAG,CAAC,uBAAuB,EAAE;EAAE,GAAGP;AAAS,CAAC,EAAE;EAACQ,OAAO,EAAE;IAClE,eAAe,EAAG,UAASF,KAAM;EACnC;AAAC,CAAC,CAAC;AAEL,OAAO,MAAMT,YAAY,GAAGA,CAAA,KAC1Bb,WAAW,CAACyB,GAAG,CAAC,qBAAqB,EAAE;EAACN,eAAe,EAAE;AAAI,CAAC,CAAC;AAEjE,OAAO,MAAMO,MAAM,GAAIb,YAAY,IACjCb,WAAW,CAACiB,IAAI,CAAC,cAAc,EAAE;EAAE,GAAGJ;AAAa,CAAC,EAAE;EAACM,eAAe,EAAE;AAAI,CAAC,CAAC;;AAEhF;AACA,OAAO,MAAMQ,UAAU,GAAIL,KAAK,IAC9BtB,WAAW,CAACyB,GAAG,CAAC,SAAS,EAAE;EACzBD,OAAO,EAAE;IAAEI,aAAa,EAAG,UAASN,KAAM;EAAE;AAC9C,CAAC,CAAC;AAEJ,OAAO,MAAMO,UAAU,GAAGA,CAACP,KAAK,EAAEQ,EAAE,KAClC9B,WAAW,CAAC+B,MAAM,CAAE,UAASD,EAAG,EAAC,EAAE;EACjCN,OAAO,EAAE;IAAEI,aAAa,EAAG,UAASN,KAAM;EAAE;AAC9C,CAAC,CAAC;AACJ,OAAO,MAAMU,YAAY,GAAGA,CAACV,KAAK,EAAEQ,EAAE,KACpC9B,WAAW,CAACyB,GAAG,CAAE,mBAAkBK,EAAG,EAAC,EAAE;EACvCN,OAAO,EAAE;IAAEI,aAAa,EAAG,UAASN,KAAM;EAAE;AAC9C,CAAC,CAAC;AAEJ,OAAO,MAAMW,aAAa,GAAGA,CAACX,KAAK,EAAEQ,EAAE,KACrC9B,WAAW,CAACyB,GAAG,CAAE,UAASK,EAAG,EAAC,EAAE;EAC9BN,OAAO,EAAE;IAAEI,aAAa,EAAG,UAASN,KAAM;EAAE;AAC9C,CAAC,CAAC;AAEJ,OAAO,MAAMY,UAAU,GAAGA,CAAClB,QAAQ,EAAEc,EAAE,EAAER,KAAK,KAC5CtB,WAAW,CAACuB,GAAG,CACZ,iBAAgBO,EAAG,EAAC,EACrB;EAAE,GAAGd;AAAS,CAAC,EACf;EACEQ,OAAO,EAAE;IAAEI,aAAa,EAAG,UAASN,KAAM;EAAE;AAC9C,CACF,CAAC;AAEH,OAAO,MAAMa,mBAAmB,GAAGA,CAACb,KAAK,EAAEc,SAAS,EAAEC,QAAQ,GAAC,EAAE,KAC/DrC,WAAW,CAACyB,GAAG,CAAE,sBAAqBW,SAAU,aAAYC,QAAS,EAAC,EAAE;EACtEb,OAAO,EAAE;IAAEI,aAAa,EAAG,UAASN,KAAM;EAAE;AAC9C,CAAC,CAAC;AAEJ,OAAO,MAAMgB,oBAAoB,GAAGA,CAACD,QAAQ,EAAEf,KAAK,KAClDtB,WAAW,CAACyB,GAAG,CAAE,kBAAiBY,QAAS,EAAC,EAAE;EAC5Cb,OAAO,EAAE;IAAEI,aAAa,EAAG,UAASN,KAAM;EAAE;AAC9C,CAAC,CAAC;AAEJ,OAAO,MAAMiB,aAAa,GAAGA,CAACvB,QAAQ,EAAEc,EAAE,EAAER,KAAK,KAC/CtB,WAAW,CAACuB,GAAG,CACZ,SAAQO,EAAG,EAAC,EACb;EAAE,GAAGd;AAAS,CAAC,EACf;EACEQ,OAAO,EAAE;IAAEI,aAAa,EAAG,UAASN,KAAM;EAAE;AAC9C,CACF,CAAC;AAEH,OAAO,MAAMkB,sBAAsB,GAAGA,CAACxB,QAAQ,EAAEc,EAAE,EAAER,KAAK,KACxDtB,WAAW,CAACuB,GAAG,CACZ,gBAAeO,EAAG,EAAC,EACpB;EAAE,GAAGd;AAAS,CAAC,EACf;EACEQ,OAAO,EAAE;IAAEI,aAAa,EAAG,UAASN,KAAM;EAAE;AAC9C,CACF,CAAC;AAEH,OAAO,MAAMmB,wBAAwB,GAAInB,KAAK,IAC5CtB,WAAW,CAACyB,GAAG,CAAE,qBAAoB,EAAE;EACrCD,OAAO,EAAE;IAAEI,aAAa,EAAG,UAASN,KAAM;EAAE;AAC9C,CAAC,CAAC;AAEJ,OAAO,MAAMoB,qBAAqB,GAAGA,CAAC1B,QAAQ,EAAEM,KAAK,KACnDtB,WAAW,CAACiB,IAAI,CAAC,oBAAoB,EAAED,QAAQ,EAAE;EAC/CQ,OAAO,EAAE;IACPI,aAAa,EAAG,UAASN,KAAM,EAAC;IAChC,cAAc,EACZ;EACJ;AACF,CAAC,CAAC;AAEJ,OAAO,MAAMqB,gBAAgB,GAAGA,CAACC,QAAQ,EAAEtB,KAAK,KAC9CtB,WAAW,CAACyB,GAAG,CAAE,kBAAiBmB,QAAS,EAAC,EAAE;EAC5CpB,OAAO,EAAE;IACPI,aAAa,EAAG,UAASN,KAAM;EACjC;AACF,CAAC,CAAC;AAEJ,OAAO,MAAMuB,eAAe,GAAGA,CAACD,QAAQ,EAAEtB,KAAK,KAC7CtB,WAAW,CAACyB,GAAG,CAAE,iBAAgBmB,QAAS,EAAC,EAAE;EAC3CpB,OAAO,EAAE;IAAEI,aAAa,EAAG,UAASN,KAAM;EAAE;AAC9C,CAAC,CAAC;;AAKJ;AACA,OAAO,MAAMwB,gBAAgB,GAAGA,CAAC9B,QAAQ,EAAEM,KAAK,KAChDtB,WAAW,CAACiB,IAAI,CACd,eAAe,EACf;EAAE,GAAGD;AAAS,CAAC,EACf;EAAEQ,OAAO,EAAE;IAAEI,aAAa,EAAG,UAASN,KAAM;EAAE;AAAE,CAClD,CAAC;AAED,OAAO,MAAMyB,kBAAkB,GAAGA,CAACC,IAAI,EAAE1B,KAAK,KAC9CtB,WAAW,CAACyB,GAAG,CAAE,oBAAmBuB,IAAK,EAAC,EAAE;EAC1CxB,OAAO,EAAE;IAAEI,aAAa,EAAG,UAASN,KAAM;EAAE;AAC9C,CAAC,CAAC;AAEF,OAAO,MAAM2B,gBAAgB,GAAI3B,KAAK,IACtCtB,WAAW,CAACyB,GAAG,CAAC,eAAe,EAAE;EAC/BD,OAAO,EAAE;IAAEI,aAAa,EAAG,UAASN,KAAM;EAAE;AAC9C,CAAC,CAAC;AAEF,OAAO,MAAM4B,kBAAkB,GAAGA,CAAC5B,KAAK,EAAEQ,EAAE,KAC5C9B,WAAW,CAACyB,GAAG,CAAE,gBAAeK,EAAG,EAAC,EAAE;EACpCN,OAAO,EAAE;IAAEI,aAAa,EAAG,UAASN,KAAM;EAAE;AAC9C,CAAC,CAAC;AAEF,OAAO,MAAM6B,gBAAgB,GAAGA,CAACnC,QAAQ,EAAEc,EAAE,EAAER,KAAK,KACpDtB,WAAW,CAACuB,GAAG,CACZ,gBAAeO,EAAG,EAAC,EACpB;EAAE,GAAGd;AAAS,CAAC,EACf;EAAEQ,OAAO,EAAE;IAAEI,aAAa,EAAG,UAASN,KAAM;EAAE;AAAE,CAClD,CAAC;AAED,OAAO,MAAM8B,gBAAgB,GAAGA,CAAC9B,KAAK,EAAEQ,EAAE,KAC1C9B,WAAW,CAAC+B,MAAM,CAAE,gBAAeD,EAAG,EAAC,EAAE;EACvCN,OAAO,EAAE;IAAEI,aAAa,EAAG,UAASN,KAAM;EAAE;AAC9C,CAAC,CAAC;AACF,OAAO,MAAM+B,kBAAkB,GAAGA,CAAC/B,KAAK,EAAEQ,EAAE,KAC5C9B,WAAW,CAACyB,GAAG,CAAE,yBAAwBK,EAAG,EAAC,EAAE;EAC7CN,OAAO,EAAE;IAAEI,aAAa,EAAG,UAASN,KAAM;EAAE;AAC9C,CAAC,CAAC;AAEF,OAAO,MAAMgC,cAAc,GAAGA,CAAA,KAAM,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}