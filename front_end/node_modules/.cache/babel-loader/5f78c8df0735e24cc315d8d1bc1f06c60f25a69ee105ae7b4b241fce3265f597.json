{"ast":null,"code":"var _jsxFileName = \"C:\\\\greenwich\\\\web_1640\\\\front_end\\\\src\\\\router\\\\customRouters\\\\privateRouter.js\",\n  _s = $RefreshSig$();\nimport DashBoardLayout from '../../layout/DashboardLayout';\nimport { Navigate, useLocation } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { roles } from \"../../constants/role\";\nimport ApplicationBaseLayout from \"../../layout/ApplicationBaseLayout\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PrivateRoute = ({\n  isAuthenticated,\n  children,\n  allowRoles = roles.ALL,\n  user\n}) => {\n  _s();\n  const location = useLocation();\n  return isAuthenticated ? allowRoles !== null && allowRoles !== void 0 && allowRoles.includes(user === null || user === void 0 ? void 0 : user.role) ? user.role !== roles.STAFF ? /*#__PURE__*/_jsxDEV(DashBoardLayout, {\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 9\n  }, this) : /*#__PURE__*/_jsxDEV(ApplicationBaseLayout, {\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 9\n  }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/error\",\n    state: {\n      from: location\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 7\n  }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/login\",\n    state: {\n      from: location\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 5\n  }, this);\n};\n_s(PrivateRoute, \"pkHmaVRPskBaU4tMJuJJpV42k1I=\", false, function () {\n  return [useLocation];\n});\n_c = PrivateRoute;\nconst mapStateToProps = state => {\n  return {\n    isAuthenticated: state.authenticateReducer.isAuthenticated,\n    user: state.authenticateReducer.user\n  };\n};\nexport default connect(mapStateToProps)(PrivateRoute);\nvar _c;\n$RefreshReg$(_c, \"PrivateRoute\");","map":{"version":3,"names":["DashBoardLayout","Navigate","useLocation","connect","roles","ApplicationBaseLayout","jsxDEV","_jsxDEV","PrivateRoute","isAuthenticated","children","allowRoles","ALL","user","_s","location","includes","role","STAFF","fileName","_jsxFileName","lineNumber","columnNumber","to","state","from","_c","mapStateToProps","authenticateReducer","$RefreshReg$"],"sources":["C:/greenwich/web_1640/front_end/src/router/customRouters/privateRouter.js"],"sourcesContent":["import DashBoardLayout from '../../layout/DashboardLayout';\r\nimport { Navigate, useLocation } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { roles } from \"../../constants/role\";\r\nimport ApplicationBaseLayout from \"../../layout/ApplicationBaseLayout\";\r\n\r\n\r\nconst PrivateRoute = ({ isAuthenticated, children, allowRoles = roles.ALL, user }) => {\r\n  const location = useLocation();\r\n  return isAuthenticated ? (\r\n    allowRoles?.includes(user?.role) ? (\r\n      user.role !== roles.STAFF ? (\r\n        <DashBoardLayout>{children}</DashBoardLayout>\r\n      ) : (\r\n        <ApplicationBaseLayout>{children}</ApplicationBaseLayout>\r\n      )\r\n    ) : (\r\n      <Navigate to=\"/error\" state={{ from: location }} />\r\n    )\r\n  ) : (\r\n    <Navigate to=\"/login\" state={{ from: location }} />\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isAuthenticated: state.authenticateReducer.isAuthenticated,\r\n    user: state.authenticateReducer.user,\r\n  };\r\n};\r\n\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n"],"mappings":";;AAAA,OAAOA,eAAe,MAAM,8BAA8B;AAC1D,SAASC,QAAQ,EAAEC,WAAW,QAAQ,kBAAkB;AACxD,SAASC,OAAO,QAAQ,aAAa;AACrC,SAASC,KAAK,QAAQ,sBAAsB;AAC5C,OAAOC,qBAAqB,MAAM,oCAAoC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAGvE,MAAMC,YAAY,GAAGA,CAAC;EAAEC,eAAe;EAAEC,QAAQ;EAAEC,UAAU,GAAGP,KAAK,CAACQ,GAAG;EAAEC;AAAK,CAAC,KAAK;EAAAC,EAAA;EACpF,MAAMC,QAAQ,GAAGb,WAAW,CAAC,CAAC;EAC9B,OAAOO,eAAe,GACpBE,UAAU,aAAVA,UAAU,eAAVA,UAAU,CAAEK,QAAQ,CAACH,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEI,IAAI,CAAC,GAC9BJ,IAAI,CAACI,IAAI,KAAKb,KAAK,CAACc,KAAK,gBACvBX,OAAA,CAACP,eAAe;IAAAU,QAAA,EAAEA;EAAQ;IAAAS,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAkB,CAAC,gBAE7Cf,OAAA,CAACF,qBAAqB;IAAAK,QAAA,EAAEA;EAAQ;IAAAS,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAwB,CACzD,gBAEDf,OAAA,CAACN,QAAQ;IAACsB,EAAE,EAAC,QAAQ;IAACC,KAAK,EAAE;MAAEC,IAAI,EAAEV;IAAS;EAAE;IAAAI,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CACnD,gBAEDf,OAAA,CAACN,QAAQ;IAACsB,EAAE,EAAC,QAAQ;IAACC,KAAK,EAAE;MAAEC,IAAI,EAAEV;IAAS;EAAE;IAAAI,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CACnD;AACH,CAAC;AAACR,EAAA,CAfIN,YAAY;EAAA,QACCN,WAAW;AAAA;AAAAwB,EAAA,GADxBlB,YAAY;AAiBlB,MAAMmB,eAAe,GAAIH,KAAK,IAAK;EACjC,OAAO;IACLf,eAAe,EAAEe,KAAK,CAACI,mBAAmB,CAACnB,eAAe;IAC1DI,IAAI,EAAEW,KAAK,CAACI,mBAAmB,CAACf;EAClC,CAAC;AACH,CAAC;AAGD,eAAeV,OAAO,CAACwB,eAAe,CAAC,CAACnB,YAAY,CAAC;AAAC,IAAAkB,EAAA;AAAAG,YAAA,CAAAH,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}